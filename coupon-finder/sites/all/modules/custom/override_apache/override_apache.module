<?php

function override_apache_init() {
  global $base_root;
  
  
  $CUrl = $_SERVER['REQUEST_URI'];
  preg_match("/search\/site\/c/", $CUrl, $MUrl);
  preg_match("/search\/site\/\//", $CUrl, $MUrl2);
  
  if( count($MUrl) == 1 && count($MUrl2) == 0){
    $CUrl = str_replace('search/site/c', 'search/site//c', $CUrl);
    drupal_goto($base_root.$CUrl);
  }
  
  /**/
  preg_match("/search\/site\/b/", $CUrl, $MUrl);
  preg_match("/search\/site\/\//", $CUrl, $MUrl2);
  
  if( count($MUrl) == 1 && count($MUrl2) == 0){
    $CUrl = str_replace('search/site/b', 'search/site//b', $CUrl);
    drupal_goto($base_root.$CUrl);
  }
  
  /**/
  preg_match("/search\/site\/r/", $CUrl, $MUrl);
  preg_match("/search\/site\/\//", $CUrl, $MUrl2);
  
  if( count($MUrl) == 1 && count($MUrl2) == 0){
    $CUrl = str_replace('search/site/r', 'search/site//r', $CUrl);
    drupal_goto($base_root.$CUrl);
  }
}