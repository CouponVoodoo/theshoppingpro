/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/sites/all/modules/wysiwyg/editors/js/ckeditor-3.0.js. */
(function($){Drupal.wysiwyg.editor.init.ckeditor=function(settings){var registeredPlugins={};for(var format in settings){if(Drupal.settings.wysiwyg.plugins[format]){for(var pluginName in Drupal.settings.wysiwyg.plugins[format]['native'])if(!registeredPlugins[pluginName]){var plugin=Drupal.settings.wysiwyg.plugins[format]['native'][pluginName];CKEDITOR.plugins.addExternal(pluginName,plugin.path,plugin.fileName);registeredPlugins[pluginName]=true};for(var pluginName in Drupal.settings.wysiwyg.plugins[format].drupal)if(!registeredPlugins[pluginName]){Drupal.wysiwyg.editor.instance.ckeditor.addPlugin(pluginName,Drupal.settings.wysiwyg.plugins[format].drupal[pluginName],Drupal.settings.wysiwyg.plugins.drupal[pluginName]);registeredPlugins[pluginName]=true}};if(Drupal.settings.wysiwyg.configs.ckeditor[format].stylesSet)CKEDITOR.stylesSet.add(format,Drupal.settings.wysiwyg.configs.ckeditor[format].stylesSet)}};Drupal.wysiwyg.editor.attach.ckeditor=function(context,params,settings){CKEDITOR.config.customConfig='';var $drupalToolbar=$('#toolbar',Drupal.overlayChild?window.parent.document:document);settings.on={instanceReady:function(ev){var editor=ev.editor,dtd=CKEDITOR.dtd,tags=CKEDITOR.tools.extend({},dtd.$block,dtd.$listItem,dtd.$tableContent);if(settings.apply_source_formatting){for(var tag in tags){if(tag=='pre')continue;this.dataProcessor.writer.setRules(tag,{indent:true,breakBeforeOpen:true,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:true})}}else{tags.br=1;for(var tag in tags){if(tag=='pre')continue;this.dataProcessor.writer.setRules(tag,{indent:false,breakBeforeOpen:false,breakAfterOpen:false,breakBeforeClose:false,breakAfterClose:false})}}},pluginsLoaded:function(ev){var editor=ev.editor;if(editor.dataProcessor&&Drupal.settings.wysiwyg.plugins[params.format]){editor.dataProcessor.toHtml=CKEDITOR.tools.override(editor.dataProcessor.toHtml,function(originalToHtml){return function(data,fixForBody){for(var plugin in Drupal.settings.wysiwyg.plugins[params.format].drupal)if(typeof Drupal.wysiwyg.plugins[plugin].attach=='function'){data=Drupal.wysiwyg.plugins[plugin].attach(data,Drupal.settings.wysiwyg.plugins.drupal[plugin],editor.name);data=Drupal.wysiwyg.instances[params.field].prepareContent(data)};return originalToHtml.call(this,data,fixForBody)}});editor.dataProcessor.toDataFormat=CKEDITOR.tools.override(editor.dataProcessor.toDataFormat,function(originalToDataFormat){return function(data,fixForBody){data=originalToDataFormat.call(this,data,fixForBody);for(var plugin in Drupal.settings.wysiwyg.plugins[params.format].drupal)if(typeof Drupal.wysiwyg.plugins[plugin].detach=='function')data=Drupal.wysiwyg.plugins[plugin].detach(data,Drupal.settings.wysiwyg.plugins.drupal[plugin],editor.name);return data}})}},selectionChange:function(event){var pluginSettings=Drupal.settings.wysiwyg.plugins[params.format];if(pluginSettings&&pluginSettings.drupal)$.each(pluginSettings.drupal,function(name){var plugin=Drupal.wysiwyg.plugins[name];if($.isFunction(plugin.isNode)){var node=event.data.selection.getSelectedElement(),state=plugin.isNode(node?node.$:null)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;event.editor.getCommand(name).setState(state)}})},focus:function(ev){Drupal.wysiwyg.activeId=ev.editor.name},afterCommandExec:function(ev){if(ev.data.name!='maximize')return;if(ev.data.command.state==CKEDITOR.TRISTATE_ON){$drupalToolbar.hide()}else $drupalToolbar.show()}};CKEDITOR.replace(params.field,settings)};Drupal.wysiwyg.editor.detach.ckeditor=function(context,params,trigger){var method=(trigger=='serialize')?'updateElement':'destroy';if(typeof params!='undefined'){var instance=CKEDITOR.instances[params.field];if(instance)instance[method]()}else for(var instanceName in CKEDITOR.instances)if(CKEDITOR.instances.hasOwnProperty(instanceName))CKEDITOR.instances[instanceName][method]()};Drupal.wysiwyg.editor.instance.ckeditor={addPlugin:function(pluginName,settings,pluginSettings){CKEDITOR.plugins.add(pluginName,{init:function(editor){if(settings.css)editor.on('mode',function(ev){if(ev.editor.mode=='wysiwyg')$('head',$('#cke_contents_'+ev.editor.name+' iframe').eq(0).contents()).append('<link rel="stylesheet" href="'+settings.css+'" type="text/css" >')});if(typeof Drupal.wysiwyg.plugins[pluginName].invoke=='function'){var pluginCommand={exec:function(editor){var data={format:'html',node:null,content:''},selection=editor.getSelection();if(selection){data.node=selection.getSelectedElement();if(data.node)data.node=data.node.$;if(selection.getType()==CKEDITOR.SELECTION_TEXT){if(CKEDITOR.env.ie){data.content=selection.getNative().createRange().text}else data.content=selection.getNative().toString()}else if(data.node)data.content=data.node.parentNode.innerHTML};Drupal.wysiwyg.plugins[pluginName].invoke(data,pluginSettings,editor.name)}};editor.addCommand(pluginName,pluginCommand)};editor.ui.addButton(pluginName,{label:settings.iconTitle,command:pluginName,icon:settings.icon})}})},prepareContent:function(content){return content},insert:function(content){content=this.prepareContent(content);CKEDITOR.instances[this.field].insertHtml(content)},setContent:function(content){CKEDITOR.instances[this.field].setData(content)},getContent:function(){return CKEDITOR.instances[this.field].getData()}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/sites/all/modules/wysiwyg/editors/js/ckeditor-3.0.js. */
/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/sites/all/modules/wysiwyg/editors/js/none.js. */
(function($){Drupal.wysiwyg.editor.attach.none=function(context,params,settings){if(params.resizable){var $wrapper=$('#'+params.field).parents('.form-textarea-wrapper:first');$wrapper.addClass('resizable');if(Drupal.behaviors.textarea)Drupal.behaviors.textarea.attach()}};Drupal.wysiwyg.editor.detach.none=function(context,params,trigger){if(typeof params!='undefined'&&(trigger!='serialize')){var $wrapper=$('#'+params.field).parents('.form-textarea-wrapper:first');$wrapper.removeOnce('textarea').removeClass('.resizable-textarea').find('.grippie').remove()}};Drupal.wysiwyg.editor.instance.none={insert:function(content){var editor=document.getElementById(this.field);if(document.selection){editor.focus();var sel=document.selection.createRange();sel.text=content}else if(editor.selectionStart||editor.selectionStart=='0'){var startPos=editor.selectionStart,endPos=editor.selectionEnd;editor.value=editor.value.substring(0,startPos)+content+editor.value.substring(endPos,editor.value.length)}else editor.value+=content},setContent:function(content){$('#'+this.field).val(content)},getContent:function(){return $('#'+this.field).val()}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/sites/all/modules/wysiwyg/editors/js/none.js. */
/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/sites/all/modules/media/js/media.popups.js. */
(function($){namespace('Drupal.media.popups');Drupal.media.popups.mediaBrowser=function(onSelect,globalOptions,pluginOptions,widgetOptions){var options=Drupal.media.popups.mediaBrowser.getDefaults();options.global=$.extend({},options.global,globalOptions);options.plugins=pluginOptions;options.widget=$.extend({},options.widget,widgetOptions);var browserSrc=options.widget.src;if($.isArray(browserSrc)&&browserSrc.length)browserSrc=browserSrc[browserSrc.length-1];var params={};$.extend(params,options.global);params.plugins=options.plugins;browserSrc+='&'+$.param(params);var mediaIframe=Drupal.media.popups.getPopupIframe(browserSrc,'mediaBrowser');mediaIframe.bind('load',options,options.widget.onLoad);var ok='OK',cancel='Cancel',notSelected='You have not selected anything!';if(Drupal&&Drupal.t){ok=Drupal.t(ok);cancel=Drupal.t(cancel);notSelected=Drupal.t(notSelected)};var dialogOptions=options.dialog;dialogOptions.buttons[ok]=function(){var selected=this.contentWindow.Drupal.media.browser.selectedMedia;if(selected.length<1){alert(notSelected);return};onSelect(selected);$(this).dialog("destroy");$(this).remove()};dialogOptions.buttons[cancel]=function(){$(this).dialog("destroy");$(this).remove()};Drupal.media.popups.setDialogPadding(mediaIframe.dialog(dialogOptions));mediaIframe.parents(".ui-dialog").find(".ui-dialog-titlebar").remove();Drupal.media.popups.overlayDisplace(mediaIframe.parents(".ui-dialog"));return mediaIframe};Drupal.media.popups.mediaBrowser.mediaBrowserOnLoad=function(e){var options=e.data;if(this.contentWindow.Drupal.media.browser.selectedMedia.length>0){var ok=(Drupal&&Drupal.t)?Drupal.t('OK'):'OK',ok_func=$(this).dialog('option','buttons')[ok];ok_func.call(this);return}};Drupal.media.popups.mediaBrowser.getDefaults=function(){return{global:{types:[],activePlugins:[]},widget:{src:Drupal.settings.media.browserUrl,onLoad:Drupal.media.popups.mediaBrowser.mediaBrowserOnLoad},dialog:Drupal.media.popups.getDialogOptions()}};Drupal.media.popups.mediaBrowser.finalizeSelection=function(){var selected=this.contentWindow.Drupal.media.browser.selectedMedia;if(selected.length<1){alert(notSelected);return};onSelect(selected);$(this).dialog("destroy");$(this).remove()};Drupal.media.popups.mediaStyleSelector=function(mediaFile,onSelect,options){var defaults=Drupal.media.popups.mediaStyleSelector.getDefaults();defaults.src=defaults.src.replace('-media_id-',mediaFile.fid);options=$.extend({},defaults,options);var mediaIframe=Drupal.media.popups.getPopupIframe(options.src,'mediaStyleSelector');mediaIframe.bind('load',options,options.onLoad);var ok='OK',cancel='Cancel',notSelected='Very sorry, there was an unknown error embedding media.';if(Drupal&&Drupal.t){ok=Drupal.t(ok);cancel=Drupal.t(cancel);notSelected=Drupal.t(notSelected)};var dialogOptions=Drupal.media.popups.getDialogOptions();dialogOptions.buttons[ok]=function(){var formattedMedia=this.contentWindow.Drupal.media.formatForm.getFormattedMedia();if(!formattedMedia){alert(notSelected);return};onSelect(formattedMedia);$(this).dialog("destroy");$(this).remove()};dialogOptions.buttons[cancel]=function(){$(this).dialog("destroy");$(this).remove()};Drupal.media.popups.setDialogPadding(mediaIframe.dialog(dialogOptions));mediaIframe.parents(".ui-dialog").find(".ui-dialog-titlebar").remove();Drupal.media.popups.overlayDisplace(mediaIframe.parents(".ui-dialog"));return mediaIframe};Drupal.media.popups.mediaStyleSelector.mediaBrowserOnLoad=function(e){};Drupal.media.popups.mediaStyleSelector.getDefaults=function(){return{src:Drupal.settings.media.styleSelectorUrl,onLoad:Drupal.media.popups.mediaStyleSelector.mediaBrowserOnLoad}};Drupal.media.popups.mediaFieldEditor=function(fid,onSelect,options){var defaults=Drupal.media.popups.mediaFieldEditor.getDefaults();defaults.src=defaults.src.replace('-media_id-',fid);options=$.extend({},defaults,options);var mediaIframe=Drupal.media.popups.getPopupIframe(options.src,'mediaFieldEditor');mediaIframe.bind('load',options,options.onLoad);var ok='OK',cancel='Cancel',notSelected='Very sorry, there was an unknown error embedding media.';if(Drupal&&Drupal.t){ok=Drupal.t(ok);cancel=Drupal.t(cancel);notSelected=Drupal.t(notSelected)};var dialogOptions=Drupal.media.popups.getDialogOptions();dialogOptions.buttons[ok]=function(){alert('hell yeah');return"poo";var formattedMedia=this.contentWindow.Drupal.media.formatForm.getFormattedMedia();if(!formattedMedia){alert(notSelected);return};onSelect(formattedMedia);$(this).dialog("destroy");$(this).remove()};dialogOptions.buttons[cancel]=function(){$(this).dialog("destroy");$(this).remove()};Drupal.media.popups.setDialogPadding(mediaIframe.dialog(dialogOptions));mediaIframe.parents(".ui-dialog").find(".ui-dialog-titlebar").remove();Drupal.media.popups.overlayDisplace(mediaIframe.parents(".ui-dialog"));return mediaIframe};Drupal.media.popups.mediaFieldEditor.mediaBrowserOnLoad=function(e){};Drupal.media.popups.mediaFieldEditor.getDefaults=function(){return{src:'/media/-media_id-/edit?render=media-popup',onLoad:Drupal.media.popups.mediaFieldEditor.mediaBrowserOnLoad}};Drupal.media.popups.getDialogOptions=function(){return{buttons:{},dialogClass:'media-wrapper',modal:true,draggable:false,resizable:false,minWidth:600,width:800,height:550,position:'center',overlay:{backgroundColor:'#000000',opacity:0.4},zIndex:1e4}};Drupal.media.popups.setDialogPadding=function(dialogElement){dialogElement.height(dialogElement.dialog('option','height'));dialogElement.width(dialogElement.dialog('option','width'))};Drupal.media.popups.getPopupIframe=function(src,id,options){var defaults={width:'800px',scrolling:'auto'},options=$.extend({},defaults,options);return $('<iframe class="media-modal-frame"/>').attr('src',src).attr('width',options.width).attr('id',id).attr('scrolling',options.scrolling)};Drupal.media.popups.overlayDisplace=function(dialog){if(parent.window.Drupal.overlay){var overlayDisplace=parent.window.Drupal.overlay.getDisplacement('top');if(dialog.offset().top<overlayDisplace)dialog.css('top',overlayDisplace)}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/sites/all/modules/media/js/media.popups.js. */
/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/sites/all/modules/wysiwyg/plugins/break/break.js. */
(function($){Drupal.wysiwyg.plugins['break']={isNode:function(node){return($(node).is('img.wysiwyg-break'))},invoke:function(data,settings,instanceId){if(data.format=='html'){if($(data.node).is('img.wysiwyg-break'))return;var content=this._getPlaceholder(settings)}else{if(data.content.match(/<!--break-->/))return;var content='<!--break-->'};if(typeof content!='undefined')Drupal.wysiwyg.instances[instanceId].insert(content)},attach:function(content,settings,instanceId){content=content.replace(/<!--break-->/g,this._getPlaceholder(settings));return content},detach:function(content,settings,instanceId){var $content=$('<div>'+content+'</div>');$.each($('img.wysiwyg-break',$content),function(i,elem){elem.parentNode.insertBefore(document.createComment('break'),elem);elem.parentNode.removeChild(elem)});return $content.html()},_getPlaceholder:function(settings){return'<img src="'+settings.path+'/images/spacer.gif" alt="&lt;--break-&gt;" title="&lt;--break--&gt;" class="wysiwyg-break drupal-content" />'}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/sites/all/modules/wysiwyg/plugins/break/break.js. */
/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/modules/filter/filter.js. */
(function($){Drupal.behaviors.filterGuidelines={attach:function(context){$('.filter-guidelines',context).once('filter-guidelines').find(':header').hide().closest('.filter-wrapper').find('select.filter-list').bind('change',function(){$(this).closest('.filter-wrapper').find('.filter-guidelines-item').hide().siblings('.filter-guidelines-'+this.value).show()}).change()}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/modules/filter/filter.js. */
/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/sites/all/themes/omega/omega/js/jquery.formalize.js. */
var FORMALIZE=(function($,window,document,undefined){var PLACEHOLDER_SUPPORTED='placeholder'in document.createElement('input'),AUTOFOCUS_SUPPORTED='autofocus'in document.createElement('input'),IE6=!!($.browser.msie&&parseInt($.browser.version,10)===6),IE7=!!($.browser.msie&&parseInt($.browser.version,10)===7);return{go:function(){for(var i in FORMALIZE.init)FORMALIZE.init[i]()},init:{ie6_skin_inputs:function(){if(!IE6||!$('input, select, textarea').length)return;var button_regex=/button|submit|reset/,type_regex=/date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;$('input').each(function(){var el=$(this);if(this.getAttribute('type').match(button_regex)){el.addClass('ie6-button');if(this.disabled)el.addClass('ie6-button-disabled')}else if(this.getAttribute('type').match(type_regex)){el.addClass('ie6-input');if(this.disabled)el.addClass('ie6-input-disabled')}});$('textarea, select').each(function(){if(this.disabled)$(this).addClass('ie6-input-disabled')})},autofocus:function(){if(AUTOFOCUS_SUPPORTED||!$(':input[autofocus]').length)return;$(':input[autofocus]:visible:first').focus()},placeholder:function(){if(PLACEHOLDER_SUPPORTED||!$(':input[placeholder]').length)return;FORMALIZE.misc.add_placeholder();$(':input[placeholder]').each(function(){var el=$(this),text=el.attr('placeholder');el.focus(function(){if(el.val()===text)el.val('').removeClass('placeholder-text')}).blur(function(){FORMALIZE.misc.add_placeholder()});el.closest('form').submit(function(){if(el.val()===text)el.val('').removeClass('placeholder-text')}).bind('reset',function(){setTimeout(FORMALIZE.misc.add_placeholder,50)})})}},misc:{add_placeholder:function(){if(PLACEHOLDER_SUPPORTED||!$(':input[placeholder]').length)return;$(':input[placeholder]').each(function(){var el=$(this),text=el.attr('placeholder');if(!el.val()||el.val()===text)el.val(text).addClass('placeholder-text')})}}}})(jQuery,this,this.document);jQuery(document).ready(function(){FORMALIZE.go()});
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/sites/all/themes/omega/omega/js/jquery.formalize.js. */
/* Source and licensing information for the line(s) below can be found at http://www.theshoppingpro.com/sites/all/themes/omega/omega/js/omega-mediaqueries.js. */
Drupal.omega=Drupal.omega||{};(function($){var current,previous,setCurrentLayout=function(index){index=parseInt(index);previous=current;current=Drupal.settings.omega.layouts.order.hasOwnProperty(index)?Drupal.settings.omega.layouts.order[index]:'mobile';if(previous!=current){$('body').removeClass('responsive-layout-'+previous).addClass('responsive-layout-'+current);$.event.trigger('responsivelayout',{from:previous,to:current})}};Drupal.omega.getCurrentLayout=function(){return current};Drupal.omega.getPreviousLayout=function(){return previous};Drupal.omega.crappyBrowser=function(){return $.browser.msie&&parseInt($.browser.version,10)<9};Drupal.omega.checkLayout=function(layout){if(Drupal.settings.omega.layouts.queries.hasOwnProperty(layout)&&Drupal.settings.omega.layouts.queries[layout]){var output=Drupal.omega.checkQuery(Drupal.settings.omega.layouts.queries[layout]);if(!output&&layout==Drupal.settings.omega.layouts.primary){var dummy=$('<div id="omega-check-query"></div>').prependTo('body');dummy.append('<style media="all">#omega-check-query { position: relative; z-index: -1; }</style>');dummy.append('<!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-check-query { z-index: 100; }</style><![endif]-->');output=parseInt(dummy.css('z-index'))==100;dummy.remove()};return output};return false};Drupal.omega.checkQuery=function(query){var dummy=$('<div id="omega-check-query"></div>').prependTo('body');dummy.append('<style media="all">#omega-check-query { position: relative; z-index: -1; }</style>');dummy.append('<style media="'+query+'">#omega-check-query { z-index: 100; }</style>');var output=parseInt(dummy.css('z-index'))==100;dummy.remove();return output};Drupal.behaviors.omegaMediaQueries={attach:function(context){$('body',context).once('omega-mediaqueries',function(){var primary=$.inArray(Drupal.settings.omega.layouts.primary,Drupal.settings.omega.layouts.order),dummy=$('<div id="omega-media-query-dummy"></div>').prependTo('body');dummy.append('<style media="all">#omega-media-query-dummy { position: relative; z-index: -1; }</style>');dummy.append('<!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-media-query-dummy { z-index: '+primary+'; }</style><![endif]-->');for(var i in Drupal.settings.omega.layouts.order)dummy.append('<style media="'+Drupal.settings.omega.layouts.queries[Drupal.settings.omega.layouts.order[i]]+'">#omega-media-query-dummy { z-index: '+i+'; }</style>');$(window).bind('resize.omegamediaqueries',function(){setCurrentLayout(dummy.css('z-index'))}).load(function(){$(this).trigger('resize.omegamediaqueries')})})}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at http://www.theshoppingpro.com/sites/all/themes/omega/omega/js/omega-mediaqueries.js. */
